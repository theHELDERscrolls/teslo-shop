<!-- Barra de navegación fija en la parte superior -->
<div class="fixed top-0 left-0 shadow-sm navbar bg-base-100 z-50">
  <!-- Parte izquierda de la navbar -->
  <div class="navbar-start">
    <!-- Dropdown (menú desplegable) que solo se muestra en pantallas pequeñas -->
    <!-- Esto es el menú hamburguesa para móviles -->
    <div class="dropdown">
      <!-- Botón que abre el dropdown - solo visible en móvil -->
      <div tabindex="0" role="button" class="btn btn-ghost lg:hidden">
        <!-- Ícono de menú hamburgesa (tres líneas) -->
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="w-5 h-5"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h8m-8 6h16"
          />
        </svg>
      </div>

      <!-- Menú desplegable con las categorías (solo móvil) -->
      <ul
        tabindex="-1"
        class="p-2 mt-3 shadow menu menu-sm dropdown-content bg-base-100 rounded-box z-1 w-52"
      >
        <!-- Opción para productos de Hombres -->
        <li>
          <!-- routerLink="gender/men": navega a la página de productos de hombres -->
          <a routerLink="gender/men" class="btn btn-ghost" routerLinkActive="text-secondary"
            >Hombres</a
          >
        </li>

        <!-- Opción para productos de Mujeres -->
        <li>
          <a routerLink="gender/women" class="btn btn-ghost" routerLinkActive="text-secondary"
            >Mujeres</a
          >
        </li>

        <!-- Opción para productos de Niños -->
        <li>
          <a routerLink="gender/kid" class="btn btn-ghost" routerLinkActive="text-secondary"
            >Kids</a
          >
        </li>
      </ul>
    </div>

    <!-- Logo/Título de la tienda que enlaza a la página principal -->
    <!-- routerLink="/": navega a la página de inicio -->
    <a routerLink="/" class="text-xl btn btn-ghost font-montserrat"
      >Teslo <span class="text-primary">| Shop</span></a
    >
  </div>

  <!-- Parte central de la navbar (menú horizontal, solo visible en pantallas grandes) -->
  <div class="hidden navbar-center lg:flex">
    <!-- Menú horizontal con las tres categorías (visible solo en desktop) -->
    <ul class="px-1 menu menu-horizontal">
      <!-- Opción para productos de Hombres -->
      <li>
        <a routerLink="gender/men" class="btn btn-ghost" routerLinkActive="text-secondary"
          >Hombres</a
        >
      </li>

      <!-- Opción para productos de Mujeres -->
      <li>
        <a routerLink="gender/women" class="btn btn-ghost" routerLinkActive="text-secondary"
          >Mujeres</a
        >
      </li>

      <!-- Opción para productos de Niños -->
      <li>
        <a routerLink="gender/kid" class="btn btn-ghost" routerLinkActive="text-secondary">Kids</a>
      </li>
    </ul>
  </div>

  <!-- Parte derecha de la navbar -->
  <div class="navbar-end gap-4">
    <!-- Estructura condicional para mostrar botón de Admin Panel solo si el usuario es administrador -->
    <!-- authService.isAdmin(): verifica si el usuario actual tiene permisos de admin -->
    <!-- Solo muestra el enlace al panel de administración si es admin -->
    @if (authService.isAdmin()) {
    <!-- Enlace al panel de administración -->
    <!-- routerLink="/admin": navega a la página del panel admin -->
    <!-- btn text-accent: estilos de botón con color de acento -->
    <a routerLink="/admin" class="btn text-accent">Admin Panel</a>
    }

    <!-- Estructura condicional basada en el estado de autenticación general -->
    <!-- @if: directiva de Angular para mostrar contenido condicionalmente -->

    <!-- Si el usuario está autenticado -->
    @if (authService.authStatus()==="authenticated") {
    <!-- Botón que muestra el nombre completo del usuario -->
    <!-- authService.user()?.fullName: obtiene el nombre del usuario autenticado -->
    <!-- {{ }}: interpolación de Angular para mostrar valores dinámicos -->
    <!-- ?.: operador de encadenamiento opcional para evitar errores si user es null -->
    <button class="btn btn-ghost">{{ authService.user()?.fullName }}</button>

    <!-- Botón de logout (cerrar sesión) -->
    <!-- (click)="authService.logout()": ejecuta el método logout al hacer click -->
    <button class="btn btn-sm btn-error" (click)="authService.logout()">Salir</button>
    <!-- Si el usuario NO está autenticado -->
    } @else if (authService.authStatus() === "not-authenticated") {
    <!-- Enlace a la página de login -->
    <!-- routerLink="/auth/login": navega a la página de login -->
    <!-- btn btn-primary: estilos de botón principal -->
    <a routerLink="/auth/login" class="btn btn-primary">Login</a>
    <!-- Si el estado está en "checking" (cargando) -->
    }@else {
    <!-- Muestra puntos suspensivos mientras se verifica el estado -->
    <!-- btn btn-ghost: estilos de botón sin fondo -->
    <a class="btn btn-ghost">...</a>
    }
  </div>
</div>
